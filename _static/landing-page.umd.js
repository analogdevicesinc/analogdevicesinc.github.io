!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";class t{static wait=()=>new Promise(t=>{let e;Object.defineProperty(window,"app",{configurable:!0,set(n){e=n;t(e),Object.defineProperty(window,"app",{value:e,writable:!0,configurable:!0})},get:()=>e})})}class e{constructor(t,e){if(this.$,"string"==typeof t){if(this.$=document.createElement(t),"object"==typeof e)for(const t in e)t in this.$?this.$[t]=e[t]:this.$.dataset[t]=e[t]}else this.$=t}static new(t,e){let n=document.createElement(t);if("object"==typeof e)for(const t in e)t in n?n[t]=e[t]:n.dataset[t]=e[t];return n}cloneNode(t){return new e(this.$.cloneNode(t))}set innerText(t){this.$.innerText=t}get innerText(){return this.$.innerText}get height(){return this.$.offsetHeight}get width(){return this.$.offsetWidth}get id(){return this.$.id}set id(t){this.$.id=t}get value(){return this.$.value}set value(t){this.$.value=t}get src(){return this.$.src}set src(t){this.$.src=t}focus(){this.$.focus()}get classList(){return this.$.classList}get style(){return this.$.style}onchange(t,e,n){return this.$.onchange=s=>{void 0===n?e.apply(t,[s]):n.constructor==Array&&(n.push(s),e.apply(t,n))},this}onclick(t,e,n){return this.$.onclick=s=>{void 0===n?e.apply(t,[s]):n.constructor==Array&&(n.push(s),e.apply(t,n))},this}onauxclick(t,e,n){return this.$.onauxclick=s=>{void 0===n?e.apply(t,[s]):n.constructor==Array&&(n.push(s),e.apply(t,n))},this}onup(t,e,n){return this.$.addEventListener("mouseup",s=>{void 0===n?e.apply(t,[s]):n.constructor==Array&&(n.push(s),e.apply(t,n))}),this}onmiddleclick(t,e,n){return this.$.addEventListener("mouseup",s=>{2===s.which&&(void 0===n?e.apply(t,[s]):n.constructor==Array&&(n.push(s),e.apply(t,n)))}),this}ondown(t,e,n){return this.$.addEventListener("mousedown",s=>{void 0===n?e.apply(t,[s]):n.constructor==Array&&(n.push(s),e.apply(t,n))}),this}onmove(t,e,n){return this.$.addEventListener("mousemove",s=>{void 0===n?e.apply(t,[s]):n.constructor==Array&&(n.push(s),e.apply(t,n))}),this}onevent(t,e,n,s){return this.$.addEventListener(t,t=>{void 0===s?n.apply(e,[t]):s.constructor==Array&&(s.push(t),n.apply(e,s))}),this}append(t){return t.constructor!=Array&&(t=[t]),t.forEach(t=>{/HTML(.*)Element/.test(t.constructor.name)?this.$.appendChild(t):"object"==typeof t&&/HTML(.*)Element/.test(t.$.constructor.name)&&this.$.appendChild(t.$)}),this}delete(){this.$.remove()}static removeChilds(t){let e=t.lastElementChild;for(;e;)t.removeChild(e),e=t.lastElementChild}static get(t,n){return void 0===(n=n instanceof e?n.$:n)?document.querySelector(t):n.querySelector(t)}static getAll(t,n){return"object"==typeof(n=n instanceof e?n.$:n)?n.querySelectorAll(t):get(n).querySelectorAll(t)}static switchState(t,n){let s=null!=n?n:"on";(t=t instanceof e?t.$:t).classList.contains(s)?t.classList.remove(s):t.classList.add(s)}static UID(){return(+new Date).toString(36)+Math.random().toString(36).substr(2)}static setSelected(t,e){for(var n=0;n<t.$.options.length;n++)if(t.$.options[n].text==e)return void(t.$.options[n].selected=!0)}static lazyUpdate(t,n,s,i){i=null==i?"innerText":i;let r=e.get(`[data-uid='${n}']`,t);for(const t in s)e.get(`#${t}`,r)[i]=s[t]}}class n{constructor(t){this.$={},this.parent=t,this.parent.fetch.then(this.construct.bind(this))}construct_repositories(){let t=e.get(".cards.repositories",this.$.body);if(t)for(const[n,s]of Object.entries(this.parent.state.metadata.repotoc)){let i=e.new("div",{className:"title"});i.innerText=s.name;let r=e.new("div",{className:"subtitle"});r.innerText=s.description;let o=e.new("a",{className:"entry",target:"blank",href:n}),c=e.new("span");c.append(i),c.append(r),o.append(c),t.append(o)}}collect_collections(t){const e=t.split(",").map(t=>t.trim());return Object.entries(this.parent.state.collection.collection).filter(([t,n])=>e.every(t=>n.label.includes(t))).reduce((t,[e,n])=>(t[e]=n,t),{})}construct_collection(t){const n=this.collect_collections(t.id);for(const[s,i]of Object.entries(n)){let n=e.new("a",{className:"entry",target:"blank",href:`${i.docname}.html`}),r=e.new("span");if(i.image){let t=e.new("div",{className:"img-container"}),n=e.new("img",{src:i.image});t.append(n),r.append(t)}else{let t=e.new("span",{className:"spacer"});r.append(t)}let o=e.new("div",{className:"title"});o.innerText=s;let c=e.new("div",{className:"subtitle"});if(c.innerText=i.subtitle,r.append(o),r.append(c),i.description){let t=e.new("hr"),n=e.new("div",{className:"description"});n.innerText=i.description,r.append(t),r.append(n)}let a=e.new("span",{className:"spacer"});r.append(a),n.append(r),t.append(n)}}construct_collections(){e.getAll(".cards.collection",this.$.body).forEach(t=>{this.construct_collection(t)})}construct(){this.$.body=e.get(".body"),this.construct_repositories(),this.parent.content_actions.then(this.construct_collections.bind(this))}}(async()=>{const e=await t.wait();new n(e)})()});
//# sourceMappingURL=landing-page.umd.js.map
