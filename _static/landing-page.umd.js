!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";const e=(e,t,n)=>Object.hasOwn(e,t)?e[t]:new Promise(e=>{window.addEventListener(n,t=>{e(t.detail)},{once:!0})});class t{constructor(e,t){if(this.$,"string"==typeof e){if(this.$=document.createElement(e),"object"==typeof t)for(const e in t)e in this.$?this.$[e]=t[e]:this.$.dataset[e]=t[e]}else this.$=e}static new(e,t){let n=document.createElement(e);if("object"==typeof t)for(const e in t)e in n?n[e]=t[e]:n.dataset[e]=t[e];return n}cloneNode(e){return new t(this.$.cloneNode(e))}set innerText(e){this.$.innerText=e}get innerText(){return this.$.innerText}get height(){return this.$.offsetHeight}get width(){return this.$.offsetWidth}get id(){return this.$.id}set id(e){this.$.id=e}get value(){return this.$.value}set value(e){this.$.value=e}get src(){return this.$.src}set src(e){this.$.src=e}focus(){this.$.focus()}get classList(){return this.$.classList}get style(){return this.$.style}onchange(e,t,n){return this.$.onchange=s=>{void 0===n?t.apply(e,[s]):n.constructor==Array&&(n.push(s),t.apply(e,n))},this}onclick(e,t,n){return this.$.onclick=s=>{void 0===n?t.apply(e,[s]):n.constructor==Array&&(n.push(s),t.apply(e,n))},this}onauxclick(e,t,n){return this.$.onauxclick=s=>{void 0===n?t.apply(e,[s]):n.constructor==Array&&(n.push(s),t.apply(e,n))},this}onup(e,t,n){return this.$.addEventListener("mouseup",s=>{void 0===n?t.apply(e,[s]):n.constructor==Array&&(n.push(s),t.apply(e,n))}),this}onmiddleclick(e,t,n){return this.$.addEventListener("mouseup",s=>{2===s.which&&(void 0===n?t.apply(e,[s]):n.constructor==Array&&(n.push(s),t.apply(e,n)))}),this}ondown(e,t,n){return this.$.addEventListener("mousedown",s=>{void 0===n?t.apply(e,[s]):n.constructor==Array&&(n.push(s),t.apply(e,n))}),this}onmove(e,t,n){return this.$.addEventListener("mousemove",s=>{void 0===n?t.apply(e,[s]):n.constructor==Array&&(n.push(s),t.apply(e,n))}),this}onevent(e,t,n,s){return this.$.addEventListener(e,e=>{void 0===s?n.apply(t,[e]):s.constructor==Array&&(s.push(e),n.apply(t,s))}),this}append(e){return e.constructor!=Array&&(e=[e]),e.forEach(e=>{/HTML(.*)Element/.test(e.constructor.name)?this.$.appendChild(e):"object"==typeof e&&/HTML(.*)Element/.test(e.$.constructor.name)&&this.$.appendChild(e.$)}),this}delete(){this.$.remove()}static removeChilds(e){let t=e.lastElementChild;for(;t;)e.removeChild(t),t=e.lastElementChild}static get(e,n){return void 0===(n=n instanceof t?n.$:n)?document.querySelector(e):n.querySelector(e)}static getAll(e,n){return"object"==typeof(n=n instanceof t?n.$:n)?n.querySelectorAll(e):get(n).querySelectorAll(e)}static switchState(e,n){let s=null!=n?n:"on";(e=e instanceof t?e.$:e).classList.contains(s)?e.classList.remove(s):e.classList.add(s)}static UID(){return(+new Date).toString(36)+Math.random().toString(36).substr(2)}static setSelected(e,t){for(var n=0;n<e.$.options.length;n++)if(e.$.options[n].text==t)return void(e.$.options[n].selected=!0)}static lazyUpdate(e,n,s,i){i=null==i?"innerText":i;let r=t.get(`[data-uid='${n}']`,e);for(const e in s)t.get(`#${e}`,r)[i]=s[e]}}class n{constructor(e){this.app=e,this.$={},this.construct(),e.cover=this}construct(){this.mount(),this.init_background()}mount(){const e=document.querySelector("div.hero");if(!e)return void console.warn("Cover: div.hero not on page.");const n=t.new("section",{className:"panel content"}),s=t.new("div",{className:"inner"});s.append(t.new("div",{className:"eyebrow",innerText:"Open Source"}),this.add_headline(),t.new("p",{className:"lead",innerText:"Explore our open source drivers and solutions to build with confidence."})),n.append(this.add_canvas(),s),e.append(n),this.$.container=e}add_headline(){const e=t.new("h1",{className:"headline",innerText:"Open code, ship faster."});return this.$.headline=e,e}add_canvas(){const e=t.new("div",{className:"waves-wrap"}),n=t.new("canvas",{id:"waves"});return e.append(n),this.$.canvas=n,e}init_background(){const e=this.$.canvas;if(!e)return;const t=e.getContext("2d");let n,s,i=Date.now()/1e3;const r=[{amplitude:15,frequency:.02,phase:-i-50,speed:-.01,color:"rgba(212, 173, 240, 0.2)",fill_color:"rgba(212, 173, 240, 0.03)",lineWidth:1},{amplitude:20,frequency:.015,phase:-i-30,speed:-.014,color:"rgba(180, 180, 230, 0.3)",fill_color:"rgba(180, 180, 230, 0.05)",lineWidth:1},{amplitude:25,frequency:.012,phase:-i-10,speed:-.017,color:"rgba(130, 185, 225, 0.4)",fill_color:"rgba(130, 185, 225, 0.075)",lineWidth:2},{amplitude:35,frequency:.008,phase:-i-20,speed:-.02,color:"rgba(110, 190, 220, 0.4)",fill_color:"rgba(110, 190, 220, 0.1)",lineWidth:3}];let o,a=()=>{const t=this.$.container.clientWidth,i=this.$.container.clientHeight;e.width===t&&e.height===i||(n=e.width=t,s=e.height=i)},c=(e,t)=>{let n=Math.sin(e)+Math.cos(.02*t)+Math.cos(t);return n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2},l=()=>{t.clearRect(0,0,n,s),r.forEach(e=>{e.phase+=e.speed,t.beginPath(),t.strokeStyle=e.color,t.lineWidth=e.lineWidth,t.moveTo(-5,s);for(let r=-5;r<n+5;r++){o=1e-4*c(i,r+2*e.phase)*10;const a=Math.sin((r+100)/n*Math.PI)+r/n,l=e.amplitude*a,d=s/300,p=.95*s+(Math.sin(r*e.frequency+e.phase)*l-s*(r/n)*.1+5*Math.sin(r*o+e.phase))*d;t.lineTo(r,p)}t.lineTo(n+5,s),t.stroke(),t.fillStyle=e.fill_color,t.fill(),i+=.01}),requestAnimationFrame(l)};addEventListener("resize",a),addEventListener("DOMContentLoaded",a),setTimeout(a,100),a(),l()}}class s{constructor(e){this.$={},this.parent=e,this.construct(),this.parent=e}construct_repositories(){let e=t.get(".cards.repositories",this.$.body);if(e)for(const[n,s]of Object.entries(this.parent.state.metadata.repotoc)){let i=t.new("div",{className:"title"});i.innerText=s.name;let r=t.new("div",{className:"subtitle"});r.innerText=s.description;let o=t.new("a",{className:"entry",href:n}),a=t.new("span");a.append(i),a.append(r),o.append(a),e.append(o)}}collect_collections(e){const t=e.split(",").map(e=>e.trim());return Object.entries(this.parent.state.collection.collection).filter(([e,n])=>t.every(e=>n.label.includes(e))).reduce((e,[t,n])=>(e[t]=n,e),{})}construct_collection(e){const n=this.collect_collections(e.id);for(const[s,i]of Object.entries(n)){let n=t.new("a",{className:"entry",href:`${i.docname}.html`}),r=t.new("span");if(i.image){let e=t.new("div",{className:"img-container"}),n=t.new("img",{src:i.image});e.append(n),r.append(e)}else{let e=t.new("span",{className:"spacer"});r.append(e)}let o=t.new("div",{className:"title"});o.innerText=s;let a=t.new("div",{className:"subtitle"});if(a.innerText=i.subtitle,r.append(o),r.append(a),i.description){let e=t.new("hr"),n=t.new("div",{className:"description"});n.innerText=i.description,r.append(e),r.append(n)}let c=t.new("span",{className:"spacer"});r.append(c),n.append(r),e.append(n)}}construct_collections(){t.getAll(".cards.collection",this.$.body).forEach(e=>{this.construct_collection(e)})}construct(){this.$.body=t.get(".body"),(async()=>{await e(this.parent,"fetch","app:fetch:constructed"),this.parent.fetch.then(this.construct_repositories.bind(this))})(),(async()=>{await e(this.parent,"content_actions","app:content_actions:constructed"),this.parent.content_actions.then(this.construct_collections.bind(this))})()}}(async()=>{await e(window,"app","app:created"),(()=>{let e=()=>{new s(app),new n(app)};"visible"===document.visibilityState?e():window.addEventListener("focus",e,{once:!0})})()})()});
//# sourceMappingURL=landing-page.umd.js.map
